<html>

<head>
	<meta charset="UTF-8">
	<title>Employee Management System</title>
	<link rel="icon" type="image/svg+xml" href="person-lines-fill.svg">

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>

<body class="d-flex flex-column min-vh-100">
	<div id="navContainer"></div>
	
	<div class="main-container position-relative flex-grow-1 d-flex bg-light">
		<div id="alertContainer"></div>
		<div id="modalContainer"></div>
		
		<div class="container-fluid my-3 mx-2"> <!-- MAIN CONTENT START -->
			<div class="table-responsive" style="width: 70%; margin: auto;"><div id="departmentTableWrapper" style="max-height: 80vh; overflow-y: auto;"> <!-- TABLE WRAPPER START -->
				<table id="departmentTable" class="table table-sm table-hover align-middle"> <!-- TABLE CONTENT START -->
					<colgroup>
						<col style="width: 15%;"> <!-- department ID -->
						<col style="width: 35%;"> <!-- name -->
						<col style="width: 20%;">
						<col style="width: 30%;"> <!-- actions button -->
					</colgroup>
					
					<thead class="table-secondary" style="position: sticky; top: 0; z-index: 1;"><tr>
						<th class="text-center align-middle" data-sort="id">Department ID</th>
						<th class="text-center align-middle" data-sort="name">Name</th>
						<th class="text-center align-middle" data-sort="noOfEmployees">No. of Employees</th>
						<th class="text-center align-middle">
							<button id="addDepartmentButton" class="btn btn-secondary btn-sm pe-2" onclick="addNewDepartmentRow()">
								<i class="bi bi-plus-lg me-1"></i> New Department
							</button>
						</th>
					</tr></thead>
						
					<tbody id="departmentTableBody"></tbody> <!-- filled out in department.js -->
				</table> <!-- TABLE CONTENT END -->
			</div></div> <!-- TABLE WRAPPER END -->
			
			<div class="modal fade" id="deleteDepartmentConfirmModal" tabindex="-1" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered modal-md">
					<div class="modal-content">
						<div class="modal-header bg-secondary text-light">
							<h5 class="modal-title">Confirm Deletion</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body">
							Are you sure you want to delete <strong id="departmentNameToDelete"></strong>?<br><br>
							Employees that are currently assigned to this department will be transferred to:
							<select id="transferDepartmentSelect" class="form-select mt-2"></select> <!-- filled out in department.js -->
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" style="min-width: 15%;" data-bs-dismiss="modal">Cancel</button>
							<button type="button" class="btn btn-danger" style="min-width: 15%;" id="deleteDepartmentConfirmButton">Delete</button>
						</div>
					</div>
				</div>
			</div>
		</div> <!-- MAIN CONTENT END -->
	</div>
</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/nav.js"></script>
<script src="/js/alert.js"></script>
<script src="/js/department.js"></script>

</html>